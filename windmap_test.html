<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
<title>コース作るくん v6.6.5c by Popolo App.com</title>
<style>
:root{ --red:#ff3b30; --blue:#0000ff; --yellow:#ffff00; --green:#28a745; --purple:#6a1b9a; --orange:#f57c00; --gray:#555; --navy:#000080; --pink:#ff2d55; --teal:#5ac8fa; }
body { font-family: -apple-system,BlinkMacSystemFont,"Helvetica Neue","Hiragino Kaku Gothic ProN","メイリオ",Meiryo,sans-serif; margin:10px; color:#222; overflow-x: hidden; }
h2 { margin:0 0 8px 0; font-size:18px; }
#version { position:absolute; right:12px; top:12px; color:#666; font-size:13px; }

.input-row { display: flex; dap: 5px; width: 100%; margin-bottom: 10px; }
.input-group { flex: 1; display: flex; flex-direction: column; }
.input-group label { font-size: 11px; font-weight: bold; margin-bottom: 2px; }
.input-group input { font-size: 24px; padding: 8px 4px; width: 100%; box-sizing: border-box; border-radius: 6px; border: 1px solid #ccc; text-align: center; }

#courseSelect { font-size: 24px; padding: 8px; width: 100%; border-radius:6px; margin-bottom:10px; }

.compact-input { font-size: 18px !important; padding: 6px 2px !important; width: 55px !important; text-align:center; border-radius:6px; border:1px solid #ccc; }
#sausageSettings, #jwsaSettings, #jwsa2Settings, #jwsa3Settings { display:none; flex-wrap:nowrap; align-items:center; gap:4px; background:#f0f0f0; padding:5px; border-radius:8px; margin-bottom:10px; width: 100%; box-sizing: border-box; overflow-x: auto; }

.main-buttons { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; width: 100%; margin: 10px 0; }
.main-buttons button { font-size: 18px; padding: 15px 5px; border-radius: 10px; border: none; color: white; cursor: pointer; font-weight: bold; box-shadow: 0 2px 4px rgba(0,0,0,0.16); }
#btnShareAll { background: var(--gray); }
#btnStarboard { background: var(--green); }
#btnPort { background: var(--orange); }

#inputsMode { margin:15px 0; padding:12px; background:#f0f7ff; border-radius:8px; font-size: 16px; color:#333; border:1px solid #d0e0f0; }
#inputsMode select { font-size: 22px; padding: 5px; margin: 0 5px; }
.radio-group { margin: 10px 0; display: flex; gap: 15px; align-items: center; }
#btnSetCurrent { background: var(--red); color:white; border:none; padding:10px 15px; border-radius:6px; font-weight:bold; margin-top:10px; width:100%; font-size:18px; }

#map { width:100%; height:675px; border-radius:8px; margin-top:10px; box-shadow:0 1px 4px rgba(0,0,0,0.2); }

#coordsContainer { display:flex; flex-wrap:wrap; gap:8px; margin-top:10px; justify-content: space-between; }
.pointBox { border-radius:50%; width:40px; height:40px; display:flex; justify-content:center; align-items:center; color:white; font-weight:bold; cursor:pointer; font-size: 0.9em; text-shadow: 1px 1px 2px rgba(0,0,0,0.5); box-shadow: 0 2px 4px rgba(0,0,0,0.2); }

.sub-button-row { display: flex; justify-content: flex-end; gap: 8px; margin-top: 10px; }
.btn-sub { background:#f8f8f8; border:1px solid #ccc; padding:6px 10px; border-radius:6px; font-size:12px; cursor:pointer; font-weight: bold; color: #444; }

#modalOverlay, #distModalOverlay { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.6); z-index:1000; justify-content:center; align-items:center; }
.modalContent { background:white; padding:20px; border-radius:12px; width:90%; max-width:400px; box-shadow:0 4px 20px rgba(0,0,0,0.3); }
.modalContent h3 { margin-top:0; font-size:18px; border-bottom: 2px solid #eee; padding-bottom: 8px; }
.modal-input-group { margin-bottom:15px; }
.modal-input-group label { display:block; font-size:12px; font-weight:bold; margin-bottom:4px; }
.modal-input-group input { width:100%; font-size:20px; padding:8px; box-sizing:border-box; border-radius:6px; border:1px solid #ccc; }
.modal-close-btn { background:var(--blue); color:white; border:none; padding:12px; border-radius:8px; width:100%; font-size:18px; font-weight:bold; margin-top: 10px; }

.dist-list { list-style: none; padding: 0; margin: 0; }
.dist-item { background: #f9f9f9; padding: 10px; border-bottom: 1px solid #eee; font-size: 15px; font-weight: bold; }
</style>
</head>
<body>

<h2>コース作るくん <span style="font-size:0.7em;">v6.6.5d by Popolo App.com</span></h2>
<div id="version">v6.6.5d</div>

<div class="input-row">
  <div class="input-group"><label>風向</label><input type="number" id="wind" step="any" placeholder="0"></div>
  <div class="input-group"><label>距離(m)</label><input type="number" id="dist" value="500"></div>
  <div class="input-group"><label>角度(°)</label><input type="number" id="theta" value="5"></div>
</div>

<select id="courseSelect">
  <option value="mcourse">Ｍコース</option>
  <option value="figure8">フィギア８</option>
  <option value="sausage">ソーセージ</option>
  <option value="5jibe">５ジャイブ</option>
  <option value="jwsa">JWSA1</option>
  <option value="jwsa2">JWSA2</option>
  <option value="jwsa3">JWSA3</option>
<option value="jwsa5">JWSA5</option>
</select>

<div id="sausageSettings">
  <label>上<br><input type="number" id="upDist" class="compact-input" value="1000"></label>
  <label>下<br><input type="number" id="downDist" class="compact-input" value="100"></label>
  <label>AS距離<br><input type="number" id="distAS" class="compact-input" value="100"></label>
  <label>S角度<br><input type="number" id="sAngle" class="compact-input" value="0"></label>
</div>







<div id="jwsaSettings">
  <label>AB<br><input type="number" id="distAB" class="compact-input" value="500"></label>
  <label>BG<br><input type="number" id="distBC" class="compact-input" value="500"></label>
  <label>GK<br><input type="number" id="distCD" class="compact-input" value="500"></label>
  <label>角G<br><input type="number" id="theta2" class="compact-input" value="60"></label>
</div>



<div id="jwsa2Settings">
  <label>AB<br><input type="number" id="distAB2" class="compact-input" value="500"></label>
  <label>BF<br><input type="number" id="distBC2" class="compact-input" value="400"></label>
  <label>FG<br><input type="number" id="distCD2" class="compact-input" value="500"></label>
  <label>GK<br><input type="number" id="distDE2" class="compact-input" value="500"></label> 
  <label>角B<br><input type="number" id="theta3_2" class="compact-input" value="45"></label> 
  <label>角G<br><input type="number" id="theta2_2" class="compact-input" value="60"></label>
</div>





<div id="jwsa3Settings">
  <label>AB<br><input type="number" id="distAB3" class="compact-input" value="500"></label>
  <label>BF<br><input type="number" id="distBC3" class="compact-input" value="400"></label>
  <label>FG<br><input type="number" id="distCD3" class="compact-input" value="500"></label>
  <label>GK<br><input type="number" id="distDE3" class="compact-input" value="500"></label>
  <label>角B<br><input type="number" id="theta3_3" class="compact-input" value="30"></label>
  <label>角G<br><input type="number" id="theta2_3" class="compact-input" value="60"></label>
</div>

<div class="main-buttons">
  <button id="btnShareAll">データ送信</button>
  <button id="btnStarboard">スタボー</button>
  <button id="btnPort">ポート</button>
</div>

<div id="inputsMode">
  <strong>基準点：</strong>
  <select id="basePointSelect">
    <option value="A" selected>A点</option><option value="B">B点</option><option value="C">C点</option>
    <option value="D">D点</option><option value="E">E点</option><option value="F">F点</option><option value="G">G点</option><option value="S">S点</option><option value="K">K点</option>
  </select>
  <div class="radio-group">
    <label><input type="radio" name="aMode" value="gps" checked> 現在地をセット</label>
    <label><input type="radio" name="aMode" value="map"> マップ指定</label>
  </div>
  <button id="btnSetCurrent">反映</button>
</div>

<div id="coordsContainer">
  <div class="pointBox" id="btnA" style="background:var(--red);">A</div>
  <div class="pointBox" id="btnB" style="background:var(--blue);">B</div>
  <div class="pointBox" id="btnC" style="background:var(--yellow); color:#000; text-shadow:none;">C</div>
  <div class="pointBox" id="btnD" style="background:var(--green);">D</div>
  <div class="pointBox" id="btnE" style="background:var(--purple);">E</div>
  <div class="pointBox" id="btnF" style="background:var(--pink); display:none;">F</div>
  <div class="pointBox" id="btnG" style="background:var(--navy); display:none;">G</div>
  <div class="pointBox" id="btnK" style="background:var(--teal); display:none;">K</div>
  <div class="pointBox" id="btnS" style="background:var(--blue); display:none;">S</div>
</div>

<div class="sub-button-row">
  <button id="btnOpenDistModal" class="btn-sub">マーク距離</button>
  <button id="btnOpenCoordModal" class="btn-sub">基準点緯度経度 修正/確認</button>
</div>

<div id="map"></div>

<div id="modalOverlay">
  <div class="modalContent">
    <h3>基準点の緯度経度</h3>
    <div class="modal-input-group"><label>緯度 (Lat)</label><input type="number" id="modalLat" step="any"></div>
    <div class="modal-input-group"><label>経度 (Lng)</label><input type="number" id="modalLng" step="any"></div>
    <button id="btnModalClose" class="modal-close-btn">決定・反映</button>
  </div>
</div>

<div id="distModalOverlay">
  <div class="modalContent">
    <h3>マーク間距離 (m)</h3>
    <div id="distResultArea" class="dist-list"></div>
    <button id="btnDistModalClose" class="modal-close-btn">閉じる</button>
  </div>
</div>

<input type="hidden" id="latA"><input type="hidden" id="lngA">

<script>
initMap();
});





</script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAHhxSJK-IhYiT9XBRwE1MX7DHhghBQQQk&callback=initMap" async defer></script>
</body>
</html>












